{"ast":null,"code":"//ShowCurrentListen.js: show a word\nimport React from\"react\";import ReactDOM from'react-dom';import{useSelector,useDispatch}from'react-redux';import{useEffect}from'react';//import { vv } from \"../../audio/vv.js\";\nimport'./ShowCurrentListen.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var currentAudio=null;var path_audio=null;var title_button='Show text';var content_audio=null;var showHideListenText=false;var listen_text_visibility={display:'none'};export function ShowCurrentListen(){//---------------------------------------\n//  console.log('ShowCurrentListen +++++++++++')     \ncurrentAudio=useSelector(function(store){return store.currentAudio;})+1;showHideListenText=useSelector(function(store){return store.showHideListenText;});content_audio=useSelector(function(store){return store.content_audio;});path_audio='/audio/sound/audio'+currentAudio+'.mp3';if(showHideListenText){title_button='Hide text';listen_text_visibility={display:'block'};}else{title_button='Show text';listen_text_visibility={display:'none'};//    content_audio = null;\n}var dispatch=useDispatch();//console.log('ShowCurrentListen: currentAudio=',currentAudio);\nuseEffect(function(){fetch('/getListenTextFile/'+currentAudio).then(function(response){return response.json();}).then(function(text_file){dispatch({type:'ShowCurrentListenTextFile',payload:{content_audio:text_file}});});});var show_listen=/*#__PURE__*/_jsxs(\"div\",{className:\"listen_cont_all\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"listen_body\",children:/*#__PURE__*/_jsx(\"div\",{id:\"listen\",children:/*#__PURE__*/_jsxs(\"figure\",{children:[/*#__PURE__*/_jsx(\"figcaption\",{children:\"Listen:\"}),/*#__PURE__*/_jsxs(\"audio\",{controls:true,src:path_audio,children:[\"Your browser does not support the\",/*#__PURE__*/_jsx(\"code\",{children:\"audio\"}),\" element.\"]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"listen_button_cont\",children:/*#__PURE__*/_jsx(\"button\",{id:\"listen_button\",onClick:function onClick(){return dispatch({type:'ShowCurrentListen',payload:{showHideListenText:!showHideListenText}});},children:title_button})}),/*#__PURE__*/_jsx(\"div\",{id:\"listen_text\",style:listen_text_visibility,children:content_audio})]});var el=document.getElementById('listen_wrapper');el.scrollIntoView({block:\"start\",behavior:\"smooth\"});return show_listen;}//---end of ShowCurrentListen","map":{"version":3,"sources":["/home/test/Public/tests/src/components/showCurrentListen/ShowCurrentListen.js"],"names":["React","ReactDOM","useSelector","useDispatch","useEffect","currentAudio","path_audio","title_button","content_audio","showHideListenText","listen_text_visibility","display","ShowCurrentListen","store","dispatch","fetch","then","response","json","text_file","type","payload","show_listen","el","document","getElementById","scrollIntoView","block","behavior"],"mappings":"AAAA;AAEA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CAEA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAEA,OAASC,SAAT,KAA0B,OAA1B,CAEA;AAEA,MAAO,yBAAP,C,wFAIA,GAAIC,CAAAA,YAAY,CAAc,IAA9B,CAEA,GAAIC,CAAAA,UAAU,CAAgB,IAA9B,CAEA,GAAIC,CAAAA,YAAY,CAAc,WAA9B,CAEA,GAAIC,CAAAA,aAAa,CAAa,IAA9B,CAEA,GAAIC,CAAAA,kBAAkB,CAAQ,KAA9B,CAEA,GAAIC,CAAAA,sBAAsB,CAAI,CAACC,OAAO,CAAE,MAAV,CAA9B,CAGA,MAAO,SAASC,CAAAA,iBAAT,EAA6B,CAAG;AAEvC;AAIEP,YAAY,CAAUH,WAAW,CAAC,SAACW,KAAD,QAAWA,CAAAA,KAAK,CAACR,YAAjB,EAAD,CAAX,CAA6C,CAAnE,CAEAI,kBAAkB,CAAIP,WAAW,CAAC,SAACW,KAAD,QAAWA,CAAAA,KAAK,CAACJ,kBAAjB,EAAD,CAAjC,CAEAD,aAAa,CAASN,WAAW,CAAC,SAACW,KAAD,QAAWA,CAAAA,KAAK,CAACL,aAAjB,EAAD,CAAjC,CAEAF,UAAU,CAAY,qBAAuBD,YAAvB,CAAsC,MAA5D,CAGA,GAAGI,kBAAH,CAAsB,CAEpBF,YAAY,CAAI,WAAhB,CACAG,sBAAsB,CAAG,CAACC,OAAO,CAAE,OAAV,CAAzB,CAED,CALD,IAKO,CACLJ,YAAY,CAAI,WAAhB,CACAG,sBAAsB,CAAG,CAACC,OAAO,CAAE,MAAV,CAAzB,CACJ;AACG,CAID,GAAIG,CAAAA,QAAQ,CAAGX,WAAW,EAA1B,CAEF;AAEEC,SAAS,CAAC,UAAM,CACdW,KAAK,CAAC,sBAAsBV,YAAvB,CAAL,CACCW,IADD,CACM,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADd,EAECF,IAFD,CAEM,SAAAG,SAAS,CAAI,CACfL,QAAQ,CAAC,CAACM,IAAI,CAAE,2BAAP,CACCC,OAAO,CAAE,CAAEb,aAAa,CAAEW,SAAjB,CADV,CAAD,CAAR,CAGH,CAND,EAOD,CARQ,CAAT,CAWA,GAAIG,CAAAA,WAAW,cACb,aAAK,SAAS,CAAC,iBAAf,wBACE,YAAK,SAAS,CAAC,aAAf,uBACE,YAAK,EAAE,CAAC,QAAR,uBACE,uCACE,uCADF,cAEE,eACM,QAAQ,KADd,CAEM,GAAG,CAAEhB,UAFX,4DAIU,+BAJV,eAFF,GADF,EADF,EADF,cAcE,YAAK,SAAS,CAAC,oBAAf,uBACE,eAAQ,EAAE,CAAC,eAAX,CAA2B,OAAO,CAC/B,yBAAMQ,CAAAA,QAAQ,CAAC,CAAIM,IAAI,CAAE,mBAAV,CACIC,OAAO,CAAE,CAACZ,kBAAkB,CAAE,CAACA,kBAAtB,CADb,CAAD,CAAd,EADH,UAKEF,YALF,EADF,EAdF,cAsBE,YAAK,EAAE,CAAC,aAAR,CAAsB,KAAK,CAAEG,sBAA7B,UACKF,aADL,EAtBF,GADF,CA6BA,GAAMe,CAAAA,EAAE,CAAGC,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,CAAX,CACAF,EAAE,CAACG,cAAH,CAAkB,CAACC,KAAK,CAAE,OAAR,CAAiBC,QAAQ,CAAE,QAA3B,CAAlB,EAEA,MAAON,CAAAA,WAAP,CAGD","sourcesContent":["//ShowCurrentListen.js: show a word\r\n\r\nimport React from \"react\";\r\n\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport { useEffect } from 'react';\r\n\r\n//import { vv } from \"../../audio/vv.js\";\r\n\r\nimport './ShowCurrentListen.css';\r\n\r\n\r\n\r\nlet currentAudio            = null;\r\n\r\nlet path_audio              = null;\r\n\r\nlet title_button            = 'Show text';\r\n\r\nlet content_audio           = null;\r\n\r\nlet showHideListenText      = false;\r\n\r\nlet listen_text_visibility  = {display: 'none'};\r\n\r\n\r\nexport function ShowCurrentListen() {  //---------------------------------------\r\n\r\n//  console.log('ShowCurrentListen +++++++++++')     \r\n\r\n  \r\n\r\n  currentAudio        = useSelector((store) => store.currentAudio) + 1;\r\n\r\n  showHideListenText  = useSelector((store) => store.showHideListenText);\r\n\r\n  content_audio       = useSelector((store) => store.content_audio);\r\n\r\n  path_audio          = '/audio/sound/audio' + currentAudio + '.mp3';\r\n\r\n\r\n  if(showHideListenText){\r\n\r\n    title_button  = 'Hide text';\r\n    listen_text_visibility = {display: 'block'} \r\n\r\n  } else {\r\n    title_button  = 'Show text';\r\n    listen_text_visibility = {display: 'none'} \r\n//    content_audio = null;\r\n  } \r\n\r\n\r\n\r\n  let dispatch = useDispatch();  \r\n\r\n//console.log('ShowCurrentListen: currentAudio=',currentAudio);\r\n\r\n  useEffect(() => {\r\n    fetch('/getListenTextFile/'+currentAudio)\r\n    .then(response => response.json())\r\n    .then(text_file => {\r\n        dispatch({type: 'ShowCurrentListenTextFile', \r\n                  payload: { content_audio: text_file }\r\n        })\r\n    })\r\n  }); \r\n\r\n\r\n  let show_listen = (\r\n    <div className=\"listen_cont_all\">\r\n      <div className='listen_body'>\r\n        <div id=\"listen\">\r\n          <figure>\r\n            <figcaption>Listen:</figcaption>\r\n            <audio  \r\n                  controls\r\n                  src={path_audio}>\r\n                      Your browser does not support the\r\n                      <code>audio</code> element.\r\n            </audio>\r\n          </figure>\r\n        </div>  \r\n      </div>\r\n      <div className=\"listen_button_cont\">\r\n        <button id=\"listen_button\" onClick=\r\n          {() => dispatch({   type: 'ShowCurrentListen', \r\n                              payload: {showHideListenText: !showHideListenText}\r\n                         })  \r\n          }\r\n        >{title_button}</button>\r\n      </div>\r\n      <div id=\"listen_text\" style={listen_text_visibility}>\r\n          {content_audio}\r\n      </div>\r\n    </div>\r\n); \r\n\r\n  const el = document.getElementById('listen_wrapper');\r\n  el.scrollIntoView({block: \"start\", behavior: \"smooth\"});\r\n\r\n  return show_listen;\r\n\r\n  \r\n}//---end of ShowCurrentListen\r\n"]},"metadata":{},"sourceType":"module"}